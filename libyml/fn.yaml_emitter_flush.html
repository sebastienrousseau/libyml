<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Flushes the buffer of the emitter and writes the content to the output stream."><title>yaml_emitter_flush in libyml - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="libyml" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0-nightly (4ba4ac612 2024-12-18)" data-channel="nightly" data-search-js="search-036cda7a.js" data-settings-js="settings-0f613d39.js" ><script src="../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="icon" href="https://kura.pro/libyml/images/favicon.ico"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../libyml/index.html"><img src="https://kura.pro/libyml/images/logos/libyml.svg" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../libyml/index.html"><img src="https://kura.pro/libyml/images/logos/libyml.svg" alt="logo"></a><h2><a href="../libyml/index.html">libyml</a><span class="version">0.0.5</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">yaml_<wbr>emitter_<wbr>flush</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#arguments" title="Arguments">Arguments</a></li><li><a href="#returns" title="Returns">Returns</a></li><li><a href="#safety" title="Safety">Safety</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate libyml</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="index.html">libyml</a></span><h1>Function <span class="fn">yaml_emitter_flush</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/libyml/writer.rs.html#72-215">Source</a> </span></div><pre class="rust item-decl"><code>pub unsafe fn yaml_emitter_flush(emitter: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.pointer.html">*mut </a><a class="struct" href="yaml/struct.YamlEmitterT.html" title="struct libyml::yaml::YamlEmitterT">YamlEmitterT</a>) -&gt; <a class="struct" href="success/struct.Success.html" title="struct libyml::success::Success">Success</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Flushes the buffer of the emitter and writes the content to the output stream.</p>
<p>This function is called when the emitter needs to flush its buffer to the output stream.
It first checks if the emitter is not null and if the write handler is not null.
It also checks if the encoding of the emitter is not YamlAnyEncoding.</p>
<p>If the conditions are met, it updates the last and pointer of the buffer.
If the encoding is YamlUtf8Encoding, it writes the content of the buffer to the output stream.
If an error occurs during the write operation, it sets the error of the emitter and returns FAIL.</p>
<p>If the encoding is not YamlUtf8Encoding, it writes the content of the buffer to the raw buffer.
It then writes the raw buffer to the output stream.
If an error occurs during the write operation, it sets the error of the emitter and returns FAIL.
If the write operation is successful, it returns OK.</p>
<h2 id="arguments"><a class="doc-anchor" href="#arguments">ยง</a>Arguments</h2>
<ul>
<li><code>emitter</code> - A pointer to the YamlEmitterT struct.</li>
</ul>
<h2 id="returns"><a class="doc-anchor" href="#returns">ยง</a>Returns</h2>
<ul>
<li><code>Success</code> - An enum representing the success or failure of the operation.</li>
</ul>
<h2 id="safety"><a class="doc-anchor" href="#safety">ยง</a>Safety</h2>
<ul>
<li>The function is marked unsafe as it dereferences the pointer passed to it.</li>
<li>The caller must ensure that the pointer is valid and points to a valid memory location.</li>
<li>The caller must also ensure that the pointer is not null.</li>
<li>The caller must ensure that the write handler is not null.</li>
<li>The caller must ensure that the encoding is not YamlAnyEncoding.</li>
<li>The caller must ensure that the write handler is a valid function pointer.</li>
</ul>
</div></details></section></div></main></body></html>